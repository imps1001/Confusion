(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{"04NU":function(module,exports,e){var t=e("sXaO"),i;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},a=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},"46g2":function(module,e,t){"use strict";var i=t("VbXa"),r=t.n(i),a=t("sbe7"),s=t.n(a),n=t("eJMc"),o=t.n(n),u=t("vRSd"),m=t("kvW3"),c=t("7PCW"),l=t("Zz7k"),d=t("hbUA"),v=t("yhVA"),b=t.n(v),h=function(e){function GiveFeedbackNoList(){return e.apply(this,arguments)||this}r()(GiveFeedbackNoList,e);var t=GiveFeedbackNoList.prototype;return t.renderMentorGradedMessage=function renderMentorGradedMessage(){return s.a.createElement("div",{className:"rc-GiveFeedbackNoList"},s.a.createElement("div",{className:"c-peer-card"},s.a.createElement("p",null,b()("All grading for this assignment will be done by course mentors."))),s.a.createElement(c.a,{requestedCapability:l.e.viewSubmissionList},this.props.isSubmissionAvailableForReview?this.renderWithAvailableSubmissions():this.renderWithoutAvailableSubmissions()))},t.renderWithAvailableSubmissions=function renderWithAvailableSubmissions(){var e=this.props,t=e.computedItem,i=e.reviewNextLink;return s.a.createElement("div",{className:"rc-GiveFeedbackNoList c-peer-card"},s.a.createElement("div",{className:"body-2-text"},b()("Ready to review your classmates?")),s.a.createElement("p",null,b()("\n            Reviewing another person's work is a valuable way to learn and providing quality feedback is a useful skill\n            to master. Here are some tips to help you provide the most helpful, accurate, and consistent feedback\n            possible:\n          ")),s.a.createElement("ul",null,s.a.createElement("li",null,b()("\n              Remember, English isn't everyone's native language. Focus primarily on how well the work meets the\n              grading criteria.\n            ")),s.a.createElement("li",null,b()("\n              When writing critical feedback, use a constructive and polite tone.\n            "))),s.a.createElement("p",null,s.a.createElement(m.b,{message:b()("\n              Everyone enrolled in the course must review at least\n              {requiredReviewCount, plural, one{# other submission} other{# other submissions}} to ensure everyone\n              receives a grade; however, many learners complete more to help their classmates who are still waiting.\n              Ready to get started?\n            "),requiredReviewCount:t.requiredReviewCount})),s.a.createElement(o.a,{className:"link-button primary","data-js":"open-course-link",to:i},b()("Start Reviewing")))},t.renderWithoutAvailableSubmissions=function renderWithoutAvailableSubmissions(){var e=this.props,t=e.displayablePhaseSchedule,i=e.computedItem,r=t&&"submit"===t.currentPhase&&t.phaseStarts.review,a=r&&u.a.getFormattedDeadline(r);return a&&i.isPeerAssignmentReviewComplete?s.a.createElement("div",{className:"rc-GiveFeedbackNoList c-peer-card"},s.a.createElement("div",{className:"body-2-text"},b()("No Submissions Available")),s.a.createElement("div",null,s.a.createElement(m.b,{message:b()("\n                There are no submissions available for you to review right now. We'll send you an email when\n                classmates' submissions are available to review. Classmates' submissions will be available to review by\n                {reviewsAvailableTime}.\n              "),reviewsAvailableTime:s.a.createElement("span",{className:"body-2-text"},a)}))):s.a.createElement("div",{className:"rc-GiveFeedbackNoList c-peer-card"},s.a.createElement("div",{className:"body-2-text"},b()("No Submissions Available")),s.a.createElement("div",null,b()("\n              There are no submissions available for you to review right now. Come back later if you want to review\n              more classmates' submissions!\n            ")))},t.render=function render(){var e=this.props,t=e.isSubmissionAvailableForReview,i=e.computedItem;return Object(d.q)(i)?this.renderMentorGradedMessage():t?this.renderWithAvailableSubmissions():this.renderWithoutAvailableSubmissions()},GiveFeedbackNoList}(s.a.Component);e.a=h},GQaP:function(module,e,t){"use strict";var i=t("sbe7"),r=t.n(i),a=t("EqTq"),s=t("m10x"),n=t("kvW3"),o=t("wd/R"),u=t.n(o),m=t("ca6j"),c=t("yhVA"),l=t.n(c),d=t("af/C"),v=t.n(d),b=Object(a.a)("NextUpSubmissionTile"),h=function NextUpSubmissionTile(e){var t=e.submissionSummary,i=e.itemResourcePath,a=t.title,o=t.creator,c=t.createdAt,d,v=i+"/review/"+t.id;return r.a.createElement("a",{href:v,className:b(void 0,void 0,"nostyle")},r.a.createElement("div",{className:b("needs-review-banner")},l()("Needs review")),r.a.createElement("div",{className:b("header",void 0,"headline-4-text")},a),r.a.createElement("div",{className:b("footer")},r.a.createElement("div",{className:b("profile-image-container")},r.a.createElement(m.a,{profile:o,size:40})),r.a.createElement("div",{className:b("name-and-time-container")},r.a.createElement(s.j,{rootClassName:b("full-name")},o.fullName),r.a.createElement("div",{className:b("submission-time")},r.a.createElement(n.b,{message:l()("Submitted {submissionTime}"),submissionTime:u()(c).fromNow()})))))};e.a=h},HCVm:function(module,e,t){"use strict";var i=t("sbe7"),r=t.n(i),a=t("EqTq"),s=t("wd/R"),n=t.n(s),o=t("ca6j"),u=t("rg2u"),m=t.n(u),c=Object(a.a)("SubmissionTile"),l=function SubmissionTile(e){var t=e.submissionSummary,i=e.itemResourcePath,a=t.title,s=t.creator,u=t.createdAt,m,l=i+"/review/"+t.id;return r.a.createElement("div",{className:c()},r.a.createElement("a",{href:l,className:c("link-container",void 0,"nostyle")},r.a.createElement("div",{className:c("header")},r.a.createElement("div",{className:c("submission-time")},n()(u).fromNow()),r.a.createElement("div",{className:c("title",void 0,"headline-1-text")},a)),r.a.createElement("div",{className:c("footer")},r.a.createElement("div",{className:c("profile-image-container")},r.a.createElement(o.a,{profile:s,size:30})),r.a.createElement("div",{className:c("name-and-time-container")},r.a.createElement("div",{className:c("full-name")},s.fullName)))))};e.a=l},JQ1A:function(module,exports,e){},QvzW:function(module,e,t){"use strict";t.r(e);var i=t("VbXa"),r=t.n(i),a=t("17x9"),s=t.n(a),n=t("sbe7"),o=t.n(n),u=t("8cuT"),m=t.n(u),c=t("VYij"),l=t.n(c),d=t("L1vm"),v=t("dAof"),b=t("jsrg"),h=t("Akn8"),p=t("46g2"),f=t("1G4o"),S=t("VMeS"),w=t("e/s0"),g=t("h3AF"),E=t("Ef0b"),N=t("sQ/U"),R=t("yhVA"),y=t.n(R),I=t("04NU"),P=t.n(I),k=function(e){function PeerItemGiveFeedback(){return e.apply(this,arguments)||this}r()(PeerItemGiveFeedback,e);var t=PeerItemGiveFeedback.prototype;return t.renderGiveFeedbackView=function renderGiveFeedbackView(){var e=this.props,t=e.submissionSummariesCollection,i=e.computedItem,r=e.submissionSummaries;if(!t||!r)return null;return o.a.createElement(g.a,{computedItem:i,submissionSummaries:r})},t.renderGiveFeedbackNoListView=function renderGiveFeedbackNoListView(){var e=this.props,t=e.computedItem,i=e.submissionSummariesCollection,r=e.itemProgress,a=e.displayablePhaseSchedule;if(!i)return null;var s=i.length>0,n=h.a.join(t.resourcePath,"review-next");if(r)return o.a.createElement(p.a,{computedItem:t,isSubmissionAvailableForReview:s,reviewNextLink:n,displayablePhaseSchedule:a,itemProgress:r});return null},t.renderSubmitWarning=function renderSubmitWarning(){return o.a.createElement(f.a,{computedItem:this.props.computedItem})},t.renderErrorState=function renderErrorState(e){if("mustSubmitBeforeReviewing"===e)return this.renderSubmitWarning();return o.a.createElement("div",{className:"rc-PeerItemGiveFeedback"},y()("An unknown error has occurred. Please refresh and try again."))},t.render=function render(){var e=this.props,t=e.assignment,i=e.capabilities,r=e.error;if(null!=r)return this.renderErrorState(r);var a=t&&t.definition&&t.definition.closureType;return l()(i).contains("reviewPeers")&&l()(i).contains("listSubmissions")?this.renderGiveFeedbackView():l()(i).contains("reviewPeers")&&!l()(i).contains("listSubmissions")?this.renderGiveFeedbackNoListView():null==a?this.renderSubmitWarning():null},PeerItemGiveFeedback}(o.a.Component);k.contextTypes={executeAction:s.a.func.isRequired};var A=l.a.compose(d.a.createTrackedContainer(function(){return{namespace:{page:"peer_review_review_peers"}}}),m()(["PeerAssignmentStore","PeerPermissionsAndProgressesStore","PeerReviewQueueStore","DisplayablePhaseScheduleStore","ProgressStore"],function(e,t){var i=e.PeerAssignmentStore,r=e.PeerPermissionsAndProgressesStore,a=e.PeerReviewQueueStore,s=e.DisplayablePhaseScheduleStore,n=e.ProgressStore,o,u,m=a.getState(),c=m.loaded,d=m.loadState,v=m.submissions,b=m.errorType,h=m.itemId;if(c)if("loaded"===d&&t.computedItem.id===h){var p=v;o=new w.a(p,{parse:!0,metadata:t.itemMetadata})}else"loadError"===d&&(u=b);var f=r.getState(),S=f.capabilities,g=f.isSubmitted;return{assignment:i.getState().assignment,capabilities:S,isSubmitted:g,submissionSummariesCollection:o,submissionSummaries:null==v?void 0:v.submissionSummaries,error:u,displayablePhaseSchedule:s.getState().displayablePhaseSchedule,itemProgress:n.courseProgress.getItemProgress(t.computedItem.id),hasLoadedPermissions:"loaded"===r.getState().loadState,canReviewPeers:l()(S).contains("reviewPeers"),canListSubmissions:l()(S).contains("listSubmissions")}}),Object(b.a)(function(e){return e.hasLoadedPermissions},o.a.createElement(S.a,{className:"rc-PeerItemGiveFeedback"})),Object(v.a)(function(e,t){var i=t.canListSubmissions,r=t.canReviewPeers,a=t.computedItem,s=t.courseId;if(r){var n=i?20:1,o=0;e.executeAction(E.b,{userId:N.a.get().id,itemId:a.id,courseId:s,start:0,limit:n})}}))(k);e.default=A},RWN2:function(module,exports,e){},Rhu7:function(module,exports,e){var t=e("t7Sb"),i;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},a=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},UTav:function(module,e,t){"use strict";t.d(e,"a",function(){return l});var i=t("wiyT"),r=t.n(i),a=t("BDKN"),s=t.n(a),n=t("DnuM"),o=Object(n.a)("/api/onDemandPeerAuthoredReviewSummaries.v1",{type:"rest"}),u=["submissionId","isMentorReview","creatorId","createdAt"],m=["userId","externalUserId","fullName","photoUrl","courseRole","isSuperuser"],c=["summary","computed"],l=function getReviewedSubmissions(e){var t=e.userId,i=e.courseId,a=e.itemId,n=(new s.a).addQueryParam("userId",t.toString()).addQueryParam("courseId",i).addQueryParam("itemId",a).addQueryParam("q","byItem").addQueryParam("includes",["submissionSummaries","onDemandPeerSubmissionSummaries.v2(profiles)"].join(",")).addQueryParam("fields",[u.join(","),"onDemandPeerSubmissionSummaries.v2(".concat(c.join(","),")"),"onDemandSocialProfiles.v1(".concat(m.join(","),")")].join(","));return r()(o.get(n.toString()))}},"af/C":function(module,exports,e){var t=e("JQ1A"),i;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},a=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},"e/s0":function(module,e,t){"use strict";var i=t("VYij"),r=t.n(i),a=t("welz"),s=t.n(a),n=t("u/HZ"),o=s.a.Collection.extend({model:n.a,initialize:function initialize(e,t){this.metadata=t.metadata},getItemLink:function getItemLink(){return this.metadata.getBaseLink()},parse:function parse(e,t){var i;return r()(e.submissionSummaries).map(function(t){var i=r()(e.userProfiles).findWhere({userId:t.creatorId});return r()(t).extend({creator:i})})}});e.a=o},h3AF:function(module,e,t){"use strict";var i=t("VbXa"),r=t.n(i),a=t("lSNA"),s=t.n(a),n=t("MVZn"),o=t.n(n),u=t("sbe7"),m=t.n(u),c=t("EqTq"),l=t("yhVA"),d=t.n(l),v=t("GQaP"),b=t("beWW"),h=t("UTav"),p=t("Hk9X"),f=t("HCVm"),S=t("cO+T"),w=t("sQ/U"),g=t("Rhu7"),E=t.n(g),N=Object(c.a)("ListFeedbackView"),R={LOADING:"LOADING",LOAD_ERROR:"LOAD_ERROR",READY:"READY"},y=function getNetworkStatusString(e){var t;return{LOADING:d()("Loading..."),LOAD_ERROR:d()("Load error!")}[e]},I={REVIEWED:"REVIEWED",NOT_REVIEWED:"NOT_REVIEWED"},P=function getFilterOptions(){return[{label:d()("Projects I have reviewed"),value:I.REVIEWED},{label:d()("Projects I have not reviewed"),value:I.NOT_REVIEWED}]},k=function getSubmissionSummaryWithProfile(e,t){var i=t.reduce(function(e,t){return o()({},e,s()({},t.userId,t))},{});return e.map(function(e){return o()({},e,{creator:i[e.creatorId]})})},A=function(e){function ListFeedbackView(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={filter:I.NOT_REVIEWED,reviewedSubmissionSummaries:[],notReviewedSubmissionSummaries:[],networkState:R.READY},t.onFilterChange=function(e){t.setState({filter:e.value})},t.onReviewedSubmissionsFetchSuccess=function(e){var i=Object(p.c)(e);t.setState({reviewedSubmissionSummaries:k(i.submissionSummaries,i.userProfiles),networkState:R.READY})},t.onNotReviewedSubmissionsFetchSuccess=function(e){var i=Object(p.b)(e);t.setState({notReviewedSubmissionSummaries:k(i.submissionSummaries,i.userProfiles),networkState:R.READY})},t.onFetchError=function(){t.setState({networkState:R.LOAD_ERROR})},t.getSubmissionSummariesForDisplay=function(){var e=t.getNextUpSubmissionThatNeedReviews(),i=t.state,r=i.filter,a=i.reviewedSubmissionSummaries,s=i.notReviewedSubmissionSummaries;if(r===I.NOT_REVIEWED)return s.filter(function(t){return t.id!==(null==e?void 0:e.id)});return a},t.getNextUpSubmissionThatNeedReviews=function(){var e;return t.props.submissionSummaries.filter(function(e){return!e.reviewTargetReached})[0]},t.fetchReviewedSubmissions=function(){var e=t.props.computedItem;return t.setState({networkState:R.LOADING,reviewedSubmissionSummaries:[]}),Object(h.a)({userId:w.a.get().id,courseId:e.courseId,itemId:e.id}).then(t.onReviewedSubmissionsFetchSuccess).catch(t.onFetchError)},t.fetchNotReviewedSubmissions=function(){var e=t.props.computedItem;return t.setState({networkState:R.LOADING,notReviewedSubmissionSummaries:[]}),Object(b.a)({userId:w.a.get().id,courseId:e.courseId,itemId:e.id}).then(t.onNotReviewedSubmissionsFetchSuccess).catch(t.onFetchError)},t}r()(ListFeedbackView,e);var t=ListFeedbackView.prototype;return t.componentDidMount=function componentDidMount(){this.fetchNotReviewedSubmissions()},t.componentDidUpdate=function componentDidUpdate(_,e){var t=this.state.filter;e.filter!==t&&(t===I.NOT_REVIEWED?this.fetchNotReviewedSubmissions():this.fetchReviewedSubmissions())},t.render=function render(){var e=this.props.computedItem,t=this.state,i=t.filter,r=t.networkState,a=this.getNextUpSubmissionThatNeedReviews(),s=this.getSubmissionSummariesForDisplay();return m.a.createElement("div",{className:N()},0===s.length&&m.a.createElement("div",null,d()("There are no submissions left for you to review. Please check again later!")),!a&&0!==s.length&&m.a.createElement("div",null,d()("You have reviewed all ungraded submissions. You may review graded submissions, but the authors will not receive your reviews, and your reviews will not count towards their grade. If possible, please check later for new submissions to review.")),a&&m.a.createElement(v.a,{itemResourcePath:e.resourcePath,submissionSummary:a}),m.a.createElement("div",{className:N("filter")},m.a.createElement("div",{className:N("filter-label",void 0,"color-secondary-text")},d()("Filter:")),m.a.createElement("div",{className:N("filter-select")},m.a.createElement(S.a,{options:P(),value:i,optionHeight:30,onChange:this.onFilterChange}))),m.a.createElement("div",{className:N("submissions-container")},r!==R.READY&&m.a.createElement("p",null,y(r)),0===s.length&&r===R.READY&&m.a.createElement("div",null,d()("There are no submissions in this list.")),s.map(function(t){return m.a.createElement(f.a,{key:t.id,itemResourcePath:e.resourcePath,submissionSummary:t})})))},ListFeedbackView}(m.a.Component);e.a=A},rg2u:function(module,exports,e){var t=e("RWN2"),i;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},a=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},sXaO:function(module,exports,e){},t7Sb:function(module,exports,e){},"u/HZ":function(module,e,t){"use strict";var i=t("/VA5"),r=t.n(i),a=t("wd/R"),s=t.n(a),n=t("Akn8"),o=t("cO1z"),u=t("IAOZ"),m=t("Wgn2"),c=r.a.AssociatedModel.extend({relations:[{type:r.a.One,key:"creator",relatedModel:m.a}],getReviewLink:function getReviewLink(){return n.a.join(this.collection.getItemLink(),"review",this.get("id"))},getTimestampString:function getTimestampString(){return this.timestampString=s()(this.get("createdAt")).fromNow()},getUserName:function getUserName(){return this.get("creator.fullName")},getUserPhoto:function getUserPhoto(){return this.get("creator.photoUrl")},getTruncatedTitle:function getTruncatedTitle(){return o.a.byLength(this.get("title"),u.d.gallery.maxTitleLength)}});e.a=c}}]);
//# sourceMappingURL=61.f7c9a1ec6eb0905ab860.js.map